/* ========================== KNOBS ========================== */
:root{
  /* global letter sizing/spacing */
  --letter-vw: 4.5vw;
  --gap: .1vw;
  --spacer-vw: .9vw;

  /* vertical placement */
  --word-top: 5%;
  --of-top:   16%;
  --suit-top: 26%;

  /* horizontal offsets from center (use px, vw, etc.) */
  --word-dx:  -15vw;
  --of-dx:    -13vw;
  --suit-dx:  -11vw;

  /* grain */
  --grain-opacity: 0.85;

  /* scrambled image tuning */
  --scramble-brightness: 0.56;
  --scramble-contrast:   0.85;
  --scramble-opacity:    1;
  /* use unitless numbers for blur/offsets; CSS below multiplies by 1px,
     so you can type “2” or “2 ” without it breaking */
  --scramble-blur: 2;   /* px */

  /* letter (magnet) look */
  --magnet-brightness: 0.10;
  --magnet-contrast:   0.20;
  --magnet-opacity:    0.70;
  --magnet-blur:       3;   /* px */

  /* SHADOW (directional) — light from right ⇒ shadow to left */
  --magnet-shadow-x:   -10; /* px left/right */
  --magnet-shadow-y:    -1; /* px up/down  */
  --magnet-shadow-blur:  0; /* px softness */
  --magnet-shadow-opacity: 0.70;
}
/* =========================================================== */

html,body { margin:0; padding:0; background:#000; height:100%; overflow:hidden; }
#stage { position:relative; width:100vw; height:100vh; background:#000; }

#bg, #grain, #glitch, #scrambled {
  position:absolute; inset:0; width:100%; height:100%; object-fit:cover;
}

/* order: bg (5) < scrambled (10) < letters (22) < grain (25) < glitch (30) */
#bg       { z-index:5; }
#scrambled{
  z-index:10;
  transition: opacity .35s ease-in-out;
  opacity: var(--scramble-opacity);
  filter:
    brightness(var(--scramble-brightness))
    contrast(var(--scramble-contrast))
    blur(calc(var(--scramble-blur) * 1px));
  -webkit-filter:
    brightness(var(--scramble-brightness))
    contrast(var(--scramble-contrast))
    blur(calc(var(--scramble-blur) * 1px));
}
#grain    { z-index:25; mix-blend-mode:screen; opacity:var(--grain-opacity); pointer-events:none; }
#glitch   { z-index:30; display:none; pointer-events:none; }

/* letter rows sit under grain, above jumble */
.magnet-line{
  position:absolute; z-index:22;
  left:50%; transform: translateX(-50%);
  display:flex; align-items:flex-end; gap: var(--gap);
  pointer-events:none;
}

/* vertical + horizontal placement */
#wordLayer{ top: var(--word-top); left: calc(50% + var(--word-dx)); }
#ofLayer  { top: var(--of-top);   left: calc(50% + var(--of-dx)); }
#suitLayer{ top: var(--suit-top); left: calc(50% + var(--suit-dx)); }

/* ===== Letter + Shadow (two-image stack) ===== */

/* wrapper per letter so we can stack a shadow img under the main img */
.magnetWrap{
  position: relative;
  width: var(--letter-vw);
  max-width: 72px;
  height: auto;
  pointer-events: none;
}

/* both images follow the wrapper size */
.magnetWrap > img{ width:100%; height:auto; display:block; }

/* SHADOW image sits behind, turned into a dark blurred silhouette */
.magnetShadow{
  position:absolute; inset:0;
  transform:
    translate(calc(var(--magnet-shadow-x) * 1px),
              calc(var(--magnet-shadow-y) * 1px));
  filter:
    brightness(0) saturate(100%)
    blur(calc(var(--magnet-shadow-blur) * 1px));
  opacity: var(--magnet-shadow-opacity);
}

/* FRONT image — your actual magnet tile */
.magnet{
  position:relative; z-index:1;
  opacity: var(--magnet-opacity);
  filter:
    brightness(var(--magnet-brightness))
    contrast(var(--magnet-contrast))
    blur(calc(var(--magnet-blur) * 1px));
}

/* space between words */
.spacer { width: var(--spacer-vw); max-width: 28px; }
